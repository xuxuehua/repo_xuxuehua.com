<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>input_output 输入输出 - Xu XueHua</title>
    <meta name="keywords" content="Xu XueHua"/>
    <meta name="description" content="Xu XueHua's public notes"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Java">Java</a>&nbsp;&#187;&nbsp;input_output 输入输出
    <span class="updated">Page Updated&nbsp;
      2020-01-31 11:35
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">input_output 输入输出</div>

  <p>[toc]</p>
<h1 id="java-io">Java IO</h1>
<p>体现了一种装饰者设计模式，即原来没有这个功能，修饰一下之后就有了，可以动态的扩展功能</p>
<div class="hlcode"><pre><span class="n">InputStream</span> <span class="n">bufferIn</span> <span class="o">=</span> <span class="n">new</span> <span class="n">BufferedInputStream</span><span class="p">(</span><span class="n">new</span> <span class="n">FileInputStream</span><span class="p">(</span><span class="s">&quot;xxx.txt&quot;</span><span class="p">))</span>
</pre></div>


<blockquote>
<p>真正读取文件还是内部的FileInputStream，而BufferedInputStream装饰了这个方法，加速了文件的读取，体现了装饰者设计模式</p>
</blockquote>
<h1 id="streamreaderscanner">Stream/Reader/Scanner</h1>
<p>数据是二进制的，使用InputStream</p>
<p>非二进制的，表达是文本的，用Reader，否则用Scanner</p>
<h1 id="systemin">System.in 标准输入</h1>
<h2 id="scanner">Scanner 输入</h2>
<p>从控制台读取一个字符串和一个整数的</p>
<div class="hlcode"><pre><span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="n">Scanner</span><span class="p">;</span>

<span class="n">public</span> <span class="n">class</span> <span class="n">Main</span> <span class="p">{</span>
    <span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Scanner</span> <span class="n">scanner</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">in</span><span class="p">);</span> <span class="c1">// 创建Scanner对象, 通过控制台输入</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Input your name: &quot;</span><span class="p">);</span> <span class="c1">// 打印提示</span>
        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">scanner</span><span class="p">.</span><span class="n">nextLine</span><span class="p">();</span> <span class="c1">// 读取一行输入并获取字符串</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Input your age: &quot;</span><span class="p">);</span> <span class="c1">// 打印提示</span>
        <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="n">scanner</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span> <span class="c1">// 读取一行输入并获取整数</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hi, %s, you are %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">);</span> <span class="c1">// 格式化输出</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="o">&gt;&gt;&gt;</span>
<span class="n">Input</span> <span class="n">your</span> <span class="n">name</span><span class="o">:</span> <span class="n">Rick</span>
<span class="n">Input</span> <span class="n">your</span> <span class="n">age</span><span class="o">:</span> <span class="mi">18</span>
<span class="n">Hi</span><span class="p">,</span> <span class="n">Rick</span><span class="p">,</span> <span class="n">you</span> <span class="n">are</span> <span class="mi">18</span>
</pre></div>


<h3 id="_1">常用方法</h3>
<table>
<thead>
<tr>
<th>方法</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>nextLine</td>
<td>读取输入的下一行内容</td>
</tr>
<tr>
<td>next</td>
<td>读取下一个单词，以空格作为分隔符</td>
</tr>
<tr>
<td>nextInt</td>
<td>读取下一个</td>
</tr>
<tr>
<td>nextDouble</td>
<td>读取下一个浮点数</td>
</tr>
<tr>
<td>hasNext</td>
<td>检测输入中是否还有其他单词</td>
</tr>
<tr>
<td>hasNextInt</td>
<td></td>
</tr>
<tr>
<td>hasNextDouble</td>
<td>是否还有表示浮点数或整数的下一个字符序列</td>
</tr>
</tbody>
</table>
<h2 id="read">read()</h2>
<div class="hlcode"><pre><span class="n">package</span> <span class="n">input_output</span><span class="p">;</span>

<span class="n">public</span> <span class="n">class</span> <span class="n">Main</span> <span class="p">{</span>
    <span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;hello world&quot;</span><span class="p">);</span>
        <span class="n">byte</span><span class="p">[]</span> <span class="n">buffer</span> <span class="o">=</span> <span class="n">new</span> <span class="n">byte</span><span class="p">[</span><span class="mi">1024</span><span class="p">];</span>
        <span class="n">try</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">System</span><span class="p">.</span><span class="n">in</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>
            <span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">new</span> <span class="n">String</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>
            <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Read:&quot;</span><span class="o">+</span><span class="n">len</span><span class="o">+</span><span class="s">&quot; bytes&quot;</span><span class="p">);</span>
            <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
            <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Length of s is:&quot;</span><span class="o">+</span><span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">());</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="o">&gt;&gt;&gt;</span>
<span class="n">hello</span> <span class="n">world</span>
<span class="n">Rick</span>
<span class="nl">Read:</span><span class="mi">5</span> <span class="n">bytes</span>
<span class="n">Rick</span>

<span class="n">Length</span> <span class="n">of</span> <span class="n">s</span> <span class="n">is</span><span class="o">:</span><span class="mi">5</span>
</pre></div>


<h1 id="systemout">System.out 标准输出</h1>
<h2 id="println">println</h2>
<p>println 表示 print line ， 即输出并换行，如果不想换行使用print()</p>
<h2 id="_2">格式化输出</h2>
<p>格式化输出使用<code>System.out.printf()</code>，通过使用占位符<code>%?</code>，<code>printf()</code>可以把后面的参数格式化成指定格式</p>
<p>Java的格式化功能提供了多种占位符，可以把各种数据类型“格式化”成指定的字符串</p>
<table>
<thead>
<tr>
<th align="left">占位符</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">%d</td>
<td align="left">十进制整数</td>
</tr>
<tr>
<td align="left">%x</td>
<td align="left">十六进制整数</td>
</tr>
<tr>
<td align="left">%o</td>
<td align="left">八进制整数</td>
</tr>
<tr>
<td align="left">%f</td>
<td align="left">定点浮点数</td>
</tr>
<tr>
<td align="left">%e</td>
<td align="left">科学计数法表示的浮点数</td>
</tr>
<tr>
<td align="left">%s</td>
<td align="left">字符串</td>
</tr>
<tr>
<td align="left">%c</td>
<td align="left">字符</td>
</tr>
<tr>
<td align="left">%b</td>
<td align="left">布尔</td>
</tr>
<tr>
<td align="left">%%</td>
<td align="left">一个%字符本身</td>
</tr>
<tr>
<td align="left">%n</td>
<td align="left">与平台有关的行分隔符</td>
</tr>
</tbody>
</table>
<div class="hlcode"><pre><span class="n">public</span> <span class="n">class</span> <span class="n">Main</span> <span class="p">{</span>
    <span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">double</span> <span class="n">d</span> <span class="o">=</span> <span class="mf">3.1415926</span><span class="p">;</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%.2f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%.4f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="o">&gt;&gt;&gt;</span>
<span class="mf">3.14</span>
<span class="mf">3.1416</span>
</pre></div>


<h3 id="_3">日期时间转换符</h3>
<table>
<thead>
<tr>
<th>转换符</th>
<th>类型</th>
<th>例子</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>c</td>
<td>完成的时间和日期</td>
<td>Mon Feb 09 18:05:19 PST 2019</td>
<td></td>
</tr>
<tr>
<td>D</td>
<td>美国格式日期（月/日/年）</td>
<td>02/09/2019</td>
<td></td>
</tr>
<tr>
<td>T</td>
<td>24小时时间</td>
<td>18:05:09</td>
<td></td>
</tr>
<tr>
<td>Y</td>
<td>4位数字年</td>
<td>2019</td>
<td></td>
</tr>
<tr>
<td>B</td>
<td>月完整拼写</td>
<td>February</td>
<td></td>
</tr>
<tr>
<td>m</td>
<td>2位数字月</td>
<td>02</td>
<td></td>
</tr>
<tr>
<td>d</td>
<td>2为数字日</td>
<td>09</td>
<td></td>
</tr>
<tr>
<td>A</td>
<td>星期完整拼写</td>
<td>Monday</td>
<td></td>
</tr>
<tr>
<td>H</td>
<td>2位数字小时</td>
<td>18</td>
<td></td>
</tr>
<tr>
<td>M</td>
<td>2为数字分钟</td>
<td>05</td>
<td></td>
</tr>
<tr>
<td>S</td>
<td>2为数字秒</td>
<td>19</td>
<td>1起起</td>
</tr>
<tr>
<td>Z</td>
<td>时区</td>
<td>PST</td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="_4">文本处理</h1>
<p>read和write是处理unicode字符的，现在的文件形式可能不全是Unicode的形式，有可能是GBK或者ASCII， 即使是Unicode也是UTF-8的形式</p>
<p>非Unicode应该是借助Stream打开文件，然后在Stream上建立过滤器的方式建立read和write，完成文本的输出</p>
<h2 id="printwriter">PrintWriter</h2>
<div class="hlcode"><pre><span class="n">package</span> <span class="n">input_output</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>

<span class="n">public</span> <span class="n">class</span> <span class="n">DataStream</span> <span class="p">{</span>
    <span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;hello world&quot;</span><span class="p">);</span>
        <span class="n">byte</span><span class="p">[]</span> <span class="n">buf</span> <span class="o">=</span> <span class="n">new</span> <span class="n">byte</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">buf</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">buf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">byte</span><span class="p">)</span><span class="n">i</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">try</span> <span class="p">{</span>
            <span class="n">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="n">new</span> <span class="n">PrintWriter</span><span class="p">(</span>
                    <span class="n">new</span> <span class="n">BufferedWriter</span><span class="p">(</span>
                            <span class="n">new</span> <span class="n">OutputStreamWriter</span><span class="p">(</span>
                                    <span class="n">new</span> <span class="n">FileOutputStream</span><span class="p">(</span><span class="s">&quot;a.txt&quot;</span><span class="p">)</span>
                            <span class="p">)</span>
                    <span class="p">)</span>
            <span class="p">);</span>
            <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">123456</span><span class="p">;</span>
            <span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">FileNotFoundException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">IOException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<blockquote>
<p>a.txt 内容就是123456 的7字节文本，多的一个字节是换行</p>
</blockquote>
<h2 id="bufferedreader">BufferedReader 读文本</h2>
<p><img alt="image-20200504164015940" src="input_output.assets/image-20200504164015940.png" /></p>
<div class="hlcode"><pre><span class="c1">// 文件输入流，一个字节一个字节读取</span>
<span class="n">InputStream</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="p">(</span><span class="s">&quot;xxx.txt&quot;</span><span class="p">)</span>

<span class="c1">// InputStreamReader 目的是为了转换，将字节按照字符的规则进行转换变成字符</span>
<span class="c1">// 通过BufferedReader放到缓冲区里面，形成一行一行的数据</span>
<span class="c1">// 实现了读取一行数据的效果，但只有最后面真正用到数据的时候，才会读文件 </span>
<span class="n">Reader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="p">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="p">(</span><span class="n">in</span><span class="p">,</span> <span class="s">&quot;UTF-8&quot;</span><span class="p">))</span>
</pre></div>


<div class="hlcode"><pre><span class="n">package</span> <span class="n">input_output</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>

<span class="n">public</span> <span class="n">class</span> <span class="n">DataStream</span> <span class="p">{</span>
    <span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;hello world&quot;</span><span class="p">);</span>
        <span class="n">byte</span><span class="p">[]</span> <span class="n">buf</span> <span class="o">=</span> <span class="n">new</span> <span class="n">byte</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">buf</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">buf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">byte</span><span class="p">)</span><span class="n">i</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">try</span> <span class="p">{</span>
            <span class="n">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="n">new</span> <span class="n">PrintWriter</span><span class="p">(</span>
                    <span class="n">new</span> <span class="n">BufferedWriter</span><span class="p">(</span>
                            <span class="n">new</span> <span class="n">OutputStreamWriter</span><span class="p">(</span>
                                    <span class="n">new</span> <span class="n">FileOutputStream</span><span class="p">(</span><span class="s">&quot;a.txt&quot;</span><span class="p">)</span>
                            <span class="p">)</span>
                    <span class="p">)</span>
            <span class="p">);</span>
            <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">123456</span><span class="p">;</span>
            <span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>

            <span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="n">new</span> <span class="n">BufferedReader</span><span class="p">(</span>
                    <span class="n">new</span> <span class="n">InputStreamReader</span><span class="p">(</span>
                            <span class="n">new</span> <span class="n">FileInputStream</span><span class="p">(</span><span class="s">&quot;src/input_output/DataStream.java&quot;</span><span class="p">)</span>
                    <span class="p">)</span>
            <span class="p">);</span>
            <span class="n">String</span> <span class="n">line</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">((</span><span class="n">line</span> <span class="o">=</span> <span class="n">in</span><span class="p">.</span><span class="n">readLine</span><span class="p">())</span> <span class="o">!=</span> <span class="n">null</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">FileNotFoundException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">IOException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h2 id="filereader">FileReader (不常用)</h2>
<p>InputStreamReader 类的子类，所有方法都是从父类中继承而来</p>
<p>即很少裸着操作文件，而是从其他地方来的</p>
<h1 id="_5">文件流 (不常用)</h1>
<p>对文件的读写操作</p>
<p>更常用的是以在内存数据或通信数据上建立的流，如数据库的二进制数据读写或网络端口通信</p>
<p>具体的文件读写往往有更专业的类，比如配置文件和日志文件</p>
<h2 id="fileinputstream">FileInputStream</h2>
<p>效率不高</p>
<h2 id="fileoutputstream">FileOutputStream</h2>
<div class="hlcode"><pre><span class="n">package</span> <span class="n">input_output</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">FileNotFoundException</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">FileOutputStream</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">IOException</span><span class="p">;</span>

<span class="n">public</span> <span class="n">class</span> <span class="n">FileStream</span> <span class="p">{</span>
    <span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;hello world&quot;</span><span class="p">);</span>
        <span class="n">byte</span><span class="p">[]</span> <span class="n">buf</span> <span class="o">=</span> <span class="n">new</span> <span class="n">byte</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">buf</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">buf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">byte</span><span class="p">)</span><span class="n">i</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">try</span> <span class="p">{</span>
            <span class="n">FileOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="n">new</span> <span class="n">FileOutputStream</span><span class="p">(</span><span class="s">&quot;1.dat&quot;</span><span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">FileNotFoundException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">IOException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<blockquote>
<p>在对应路径下面会生成1.dat, mac下用0xED打开</p>
<p><img alt="image-20200131124631660" src="input_output.assets/image-20200131124631660.png" /></p>
</blockquote>
<h1 id="_6">流过滤器</h1>
<p>以一个介质流对象为基础层，构建过滤器流，最终形成的流对象能在数据的输入输出过程中，逐层使用过滤器流的方法来读写数据</p>
<h2 id="dataoutputstream">DataOutputStream</h2>
<p>DataOutputStream以二进制的形式，把数据在内存中原封不动的写进文件中</p>
<div class="hlcode"><pre><span class="n">package</span> <span class="n">input_output</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>

<span class="n">public</span> <span class="n">class</span> <span class="n">DataStream</span> <span class="p">{</span>
    <span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;hello world&quot;</span><span class="p">);</span>
        <span class="n">byte</span><span class="p">[]</span> <span class="n">buf</span> <span class="o">=</span> <span class="n">new</span> <span class="n">byte</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">buf</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">buf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">byte</span><span class="p">)</span><span class="n">i</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">try</span> <span class="p">{</span>
            <span class="n">DataOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="n">new</span> <span class="n">DataOutputStream</span><span class="p">(</span>
                    <span class="n">new</span> <span class="n">BufferedOutputStream</span><span class="p">(</span>
                            <span class="n">new</span> <span class="n">FileOutputStream</span><span class="p">(</span><span class="s">&quot;a.dat&quot;</span><span class="p">)</span>
                    <span class="p">)</span>
            <span class="p">);</span>
            <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mh">0xcafebabe</span><span class="p">;</span>
            <span class="n">out</span><span class="p">.</span><span class="n">writeInt</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">FileNotFoundException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">IOException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<blockquote>
<p>打开a.dat文件，在内存中是4个字节</p>
<p><img alt="image-20200131124720948" src="input_output.assets/image-20200131124720948.png" /></p>
</blockquote>
<h2 id="datainputstream">DataInputStream</h2>
<div class="hlcode"><pre><span class="n">package</span> <span class="n">input_output</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>

<span class="n">public</span> <span class="n">class</span> <span class="n">DataStream</span> <span class="p">{</span>
    <span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;hello world&quot;</span><span class="p">);</span>
        <span class="n">byte</span><span class="p">[]</span> <span class="n">buf</span> <span class="o">=</span> <span class="n">new</span> <span class="n">byte</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">buf</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">buf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">byte</span><span class="p">)</span><span class="n">i</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">try</span> <span class="p">{</span>
            <span class="n">DataOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="n">new</span> <span class="n">DataOutputStream</span><span class="p">(</span>
                    <span class="n">new</span> <span class="n">BufferedOutputStream</span><span class="p">(</span>
                            <span class="n">new</span> <span class="n">FileOutputStream</span><span class="p">(</span><span class="s">&quot;a.dat&quot;</span><span class="p">)</span>
                    <span class="p">)</span>
            <span class="p">);</span>
            <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">123456</span><span class="p">;</span>
            <span class="n">out</span><span class="p">.</span><span class="n">writeInt</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
            <span class="n">DataInputStream</span> <span class="n">in</span> <span class="o">=</span> <span class="n">new</span> <span class="n">DataInputStream</span><span class="p">(</span>
                    <span class="n">new</span> <span class="n">BufferedInputStream</span><span class="p">(</span>
                            <span class="n">new</span> <span class="n">FileInputStream</span><span class="p">(</span><span class="s">&quot;a.dat&quot;</span><span class="p">)</span>
                    <span class="p">)</span>
            <span class="p">);</span>
            <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">in</span><span class="p">.</span><span class="n">readInt</span><span class="p">();</span>
            <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">FileNotFoundException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">IOException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<blockquote>
<p>显示为123456， 但十六进制存储的结果为</p>
<p><img alt="image-20200131125627050" src="input_output.assets/image-20200131125627050.png" /></p>
</blockquote>
<h1 id="socket">Socket</h1>
<h2 id="_7">服务器端获取</h2>
<p>Mac 下监听12345端口</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">nc</span> <span class="o">-</span><span class="n">l</span> <span class="mi">12345</span>

<span class="n">Hello</span> <span class="c1">// 可以根据下面程序获取到该数据</span>
</pre></div>


<div class="hlcode"><pre><span class="n">package</span> <span class="n">input_output</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">net</span><span class="p">.</span><span class="n">InetAddress</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">net</span><span class="p">.</span><span class="n">Socket</span><span class="p">;</span>

<span class="n">public</span> <span class="n">class</span> <span class="n">SocketStream</span> <span class="p">{</span>
    <span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">try</span> <span class="p">{</span>
            <span class="n">Socket</span> <span class="n">socket</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Socket</span><span class="p">(</span><span class="n">InetAddress</span><span class="p">.</span><span class="n">getByName</span><span class="p">(</span><span class="s">&quot;localhost&quot;</span><span class="p">),</span> <span class="mi">12345</span><span class="p">);</span>
            <span class="n">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="n">new</span> <span class="n">PrintWriter</span><span class="p">(</span>
                    <span class="n">new</span> <span class="n">BufferedWriter</span><span class="p">(</span>
                            <span class="n">new</span> <span class="n">OutputStreamWriter</span><span class="p">(</span>
                                    <span class="n">socket</span><span class="p">.</span><span class="n">getOutputStream</span><span class="p">()</span>
                            <span class="p">)</span>
                    <span class="p">)</span>
            <span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
            <span class="n">socket</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>

        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">IOException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h2 id="_8">服务器端发送</h2>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">nc</span> <span class="o">-</span><span class="n">l</span> <span class="mi">12345</span>
<span class="n">Hello</span>
<span class="n">World</span> <span class="c1">// 这是键盘输入</span>
</pre></div>


<div class="hlcode"><pre><span class="n">package</span> <span class="n">input_output</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">net</span><span class="p">.</span><span class="n">InetAddress</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">net</span><span class="p">.</span><span class="n">Socket</span><span class="p">;</span>

<span class="n">public</span> <span class="n">class</span> <span class="n">SocketStream</span> <span class="p">{</span>
    <span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">try</span> <span class="p">{</span>
            <span class="n">Socket</span> <span class="n">socket</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Socket</span><span class="p">(</span><span class="n">InetAddress</span><span class="p">.</span><span class="n">getByName</span><span class="p">(</span><span class="s">&quot;localhost&quot;</span><span class="p">),</span> <span class="mi">12345</span><span class="p">);</span>
            <span class="n">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="n">new</span> <span class="n">PrintWriter</span><span class="p">(</span>
                    <span class="n">new</span> <span class="n">BufferedWriter</span><span class="p">(</span>
                            <span class="n">new</span> <span class="n">OutputStreamWriter</span><span class="p">(</span>
                                    <span class="n">socket</span><span class="p">.</span><span class="n">getOutputStream</span><span class="p">()</span>
                            <span class="p">)</span>
                    <span class="p">)</span>
            <span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">flush</span><span class="p">();</span>

            <span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="n">new</span> <span class="n">BufferedReader</span><span class="p">(</span>
                    <span class="n">new</span> <span class="n">InputStreamReader</span><span class="p">(</span>
                            <span class="n">socket</span><span class="p">.</span><span class="n">getInputStream</span><span class="p">()</span>
                    <span class="p">)</span>
            <span class="p">);</span>
            <span class="n">String</span> <span class="n">line</span><span class="p">;</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">in</span><span class="p">.</span><span class="n">readLine</span><span class="p">();</span>
            <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>

            <span class="n">out</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
            <span class="n">socket</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>

        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">IOException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="o">&gt;&gt;&gt;</span>
<span class="n">World</span>
</pre></div>


<h1 id="_9">对象串行化</h1>
<h2 id="objectinputstream">ObjectInputStream</h2>
<h3 id="readobject">readObject()</h3>
<div class="hlcode"><pre><span class="n">package</span> <span class="n">input_output</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>

<span class="n">class</span> <span class="n">Student</span> <span class="n">implements</span> <span class="n">Serializable</span> <span class="p">{</span>
    <span class="n">private</span> <span class="n">String</span> <span class="n">name</span><span class="p">;</span>
    <span class="n">private</span> <span class="kt">int</span> <span class="n">age</span><span class="p">;</span>
    <span class="n">private</span> <span class="kt">int</span> <span class="n">grade</span><span class="p">;</span>

    <span class="n">public</span> <span class="nf">Student</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">,</span> <span class="kt">int</span> <span class="n">grade</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">this</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
        <span class="n">this</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
        <span class="n">this</span><span class="p">.</span><span class="n">grade</span> <span class="o">=</span> <span class="n">grade</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">+</span><span class="s">&quot; &quot;</span><span class="o">+</span><span class="n">age</span><span class="o">+</span><span class="s">&quot; &quot;</span><span class="o">+</span><span class="n">grade</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">public</span> <span class="n">class</span> <span class="n">SerializableStream</span> <span class="p">{</span>
    <span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">try</span> <span class="p">{</span>
            <span class="n">Student</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Student</span><span class="p">(</span><span class="s">&quot;Rick&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
            <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
            <span class="n">ObjectOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ObjectOutputStream</span><span class="p">(</span>
                    <span class="n">new</span> <span class="n">FileOutputStream</span><span class="p">(</span><span class="s">&quot;obj.dat&quot;</span><span class="p">)</span>
            <span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">writeObject</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>

            <span class="n">ObjectInputStream</span> <span class="n">in</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ObjectInputStream</span><span class="p">(</span>
                    <span class="n">new</span> <span class="n">FileInputStream</span><span class="p">(</span><span class="s">&quot;obj.dat&quot;</span><span class="p">)</span>
            <span class="p">);</span>
            <span class="n">Student</span> <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Student</span><span class="p">)</span><span class="n">in</span><span class="p">.</span><span class="n">readObject</span><span class="p">();</span>
            <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">s2</span><span class="p">);</span>
            <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">s1</span><span class="o">==</span><span class="n">s2</span><span class="p">);</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="o">&gt;&gt;&gt;</span>
<span class="n">Rick</span> <span class="mi">18</span> <span class="mi">3</span>
<span class="n">Rick</span> <span class="mi">18</span> <span class="mi">3</span>
<span class="nb">false</span> <span class="c1">// 值一样，但是是完全不同的对象</span>
</pre></div>


<h2 id="objectoutputstream">ObjectOutputStream</h2>
<h3 id="writeobject">writeObject()</h3>
<div class="hlcode"><pre><span class="n">package</span> <span class="n">input_output</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">FileOutputStream</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">ObjectOutputStream</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">Serializable</span><span class="p">;</span>

<span class="n">class</span> <span class="n">Student</span> <span class="n">implements</span> <span class="n">Serializable</span> <span class="p">{</span>
    <span class="n">private</span> <span class="n">String</span> <span class="n">name</span><span class="p">;</span>
    <span class="n">private</span> <span class="kt">int</span> <span class="n">age</span><span class="p">;</span>
    <span class="n">private</span> <span class="kt">int</span> <span class="n">grade</span><span class="p">;</span>

    <span class="n">public</span> <span class="nf">Student</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">,</span> <span class="kt">int</span> <span class="n">grade</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">this</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
        <span class="n">this</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
        <span class="n">this</span><span class="p">.</span><span class="n">grade</span> <span class="o">=</span> <span class="n">grade</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">+</span><span class="s">&quot; &quot;</span><span class="o">+</span><span class="n">age</span><span class="o">+</span><span class="s">&quot; &quot;</span><span class="o">+</span><span class="n">grade</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">public</span> <span class="n">class</span> <span class="n">SerializableStream</span> <span class="p">{</span>
    <span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">try</span> <span class="p">{</span>
            <span class="n">Student</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Student</span><span class="p">(</span><span class="s">&quot;Rick&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
            <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
            <span class="n">ObjectOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ObjectOutputStream</span><span class="p">(</span>
                    <span class="n">new</span> <span class="n">FileOutputStream</span><span class="p">(</span><span class="s">&quot;obj.dat&quot;</span><span class="p">)</span>
            <span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">writeObject</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
            <span class="n">out</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="o">&gt;&gt;&gt;</span>
<span class="n">Rick</span> <span class="mi">18</span> <span class="mi">3</span>
</pre></div>


<blockquote>
<p><img alt="image-20200131153944063" src="input_output.assets/image-20200131153944063.png" /></p>
</blockquote>
<h2 id="serializable">Serializable 接口</h2>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2020 Xu XueHua.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2020-12-12 14:54:32</p>
      </span>
    </div>

    
    
  </body>
</html>