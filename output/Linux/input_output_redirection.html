<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>input_output_redirection - Xu XueHua</title>
    <meta name="keywords" content="Xu XueHua"/>
    <meta name="description" content="Xu XueHua's public notes"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Linux">Linux</a>&nbsp;&#187;&nbsp;input_output_redirection
    <span class="updated">Page Updated&nbsp;
      2019-04-17 16:01
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">input_output_redirection</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#_1">文件描述符</a></li>
<li><a href="#_2">重定向</a><ul>
<li><a href="#_3">&gt;</a></li>
<li><a href="#_4">&gt;&gt;</a></li>
<li><a href="#_5">&lt;</a></li>
<li><a href="#_6">&lt;&lt;</a></li>
<li><a href="#_7">&lt;&lt;&lt;</a></li>
<li><a href="#_8">&lt;&gt;</a></li>
<li><a href="#_9"></a></li>
<li><a href="#_10">:&gt;</a></li>
<li><a href="#2">2&gt;</a></li>
<li><a href="#2_1">2&gt;&gt;</a></li>
<li><a href="#_11">&amp;&gt;</a></li>
<li><a href="#2_2">2&amp;&gt;</a></li>
<li><a href="#_12"></a></li>
</ul>
</li>
</ul>
</div>
<h1 id="_1">文件描述符</h1>
<p>文件描述符(File Descriptor)，用一个数字（通常为0-9）来表示一个文件。 </p>
<p>常用的文件描述符如下</p>
<table>
<thead>
<tr>
<th>文件描述符</th>
<th>名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>标准输入 stdin</td>
</tr>
<tr>
<td>1</td>
<td>标准输出 stdout</td>
</tr>
<tr>
<td>2</td>
<td>标准错误输出   stderr</td>
</tr>
</tbody>
</table>
<h1 id="_2">重定向</h1>
<h2 id="_3"><code>&gt;</code></h2>
<div class="hlcode"><pre><span class="n">cmd</span> <span class="o">&gt;</span> <span class="n">file</span> 
</pre></div>


<h2 id="_4"><code>&gt;&gt;</code></h2>
<p>把cmd命令的输出重定向到文件file中。如果file已经存在，则清空原有文件，使用bash的noclobber选项可以防止复盖原有文件。 </p>
<div class="hlcode"><pre><span class="n">cmd</span> <span class="o">&gt;&gt;</span> <span class="n">file</span> 
</pre></div>


<h2 id="_5"><code>&lt;</code></h2>
<p>把cmd命令的输出重定向到文件file中，如果file已经存在，则把信息加在原有文件後面。 </p>
<div class="hlcode"><pre><span class="n">cmd</span> <span class="o">&lt;</span> <span class="n">file</span> 
</pre></div>


<h2 id="_6"><code>&lt;&lt;</code></h2>
<p>使cmd命令从file读入 </p>
<div class="hlcode"><pre><span class="n">cmd</span> <span class="o">&lt;&lt;</span> <span class="n">text</span> 
</pre></div>


<h2 id="_7"><code>&lt;&lt;&lt;</code></h2>
<p>从命令行读取输入，直到一个与text相同的行结束。除非使用引号把输入括起来，此模式将对输入内容进行shell变量替换。如果使用&lt;&lt;- ，则会忽略接下来输入行首的tab，结束行也可以是一堆tab再加上一个与text相同的内容，可以参考後面的例子。 </p>
<div class="hlcode"><pre><span class="n">cmd</span> <span class="o">&lt;&lt;&lt;</span> <span class="n">word</span> 
</pre></div>


<h2 id="_8"><code>&lt;&gt;</code></h2>
<p>把word（而不是文件word）和後面的换行作为输入提供给cmd</p>
<div class="hlcode"><pre><span class="n">cmd</span> <span class="o">&lt;&gt;</span> <span class="n">file</span> 
</pre></div>


<h2 id="_9"></h2>
<p>以读写模式把文件file重定向到输入，文件file不会被破坏。仅当应用程序利用了这一特性时，它才是有意义的。 </p>
<div class="hlcode"><pre><span class="n">cmd</span> <span class="o">&gt;|</span> <span class="n">file</span> 
</pre></div>


<h2 id="_10"><code>:&gt;</code></h2>
<p>功能同&gt;，但即便在设置了noclobber时也会复盖file文件，注意用的是|而非一些书中说的!，目前仅在csh中仍沿用&gt;!实现这一功能。 </p>
<div class="hlcode"><pre><span class="o">:&gt;</span> <span class="n">filename</span>    <span class="err">把文件\</span><span class="s">&quot;filename</span><span class="se">\&quot;</span><span class="s">截断为0长度.# 如果文件不存在, 那么就创建一个0长度的文件(与&#39;touch&#39;的效果相同). </span>
</pre></div>


<h2 id="2"><code>2&gt;</code></h2>
<p>以覆盖的方式，把命令的错误输出，输出到指定的文件中去</p>
<div class="hlcode"><pre><span class="n">error_cmd</span> <span class="mi">2</span><span class="o">&gt;</span> <span class="n">file</span>
</pre></div>


<h2 id="2_1"><code>2&gt;&gt;</code></h2>
<p>以追加的方式，把命令的错误输出，输出到指定的文件中去</p>
<div class="hlcode"><pre><span class="n">error_cmd</span> <span class="mi">2</span><span class="o">&gt;&gt;</span> <span class="n">file</span>
</pre></div>


<h2 id="_11"><code>&amp;&gt;</code></h2>
<p>以覆盖的方式，把正确输出和错误输出都保存到同一个文件中</p>
<div class="hlcode"><pre><span class="n">cmd</span> <span class="o">&amp;&gt;</span> <span class="n">file</span>
</pre></div>


<h2 id="2_2"><code>2&amp;&gt;</code></h2>
<p>以覆盖的方式，把正确输出和错误输出都保存到同一个文件</p>
<div class="hlcode"><pre><span class="n">cmd</span> <span class="o">&gt;</span> <span class="n">file</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="o">&gt;&amp;</span><span class="mi">1</span>
</pre></div>


<h2 id="_12"></h2>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2020 Xu XueHua.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2020-12-12 14:54:32</p>
      </span>
    </div>

    
    
  </body>
</html>