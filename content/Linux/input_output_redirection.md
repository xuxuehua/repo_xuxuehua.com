---
title: "input_output_redirection"
date: 2019-04-17 16:01
---


[TOC]



# 文件描述符



文件描述符(File Descriptor)，用一个数字（通常为0-9）来表示一个文件。 

常用的文件描述符如下

|文件描述符  |   名称 |    常用缩写 默认值 |
|-|-|
|0     |   标准输入 stdin   | 键盘 |
|1  |      标准输出 stdout |    屏幕 |
|2 |   标准错误输出   stderr |    屏幕 |

# 重定向



## `>`

```
cmd > file 
```



## `>>`

把cmd命令的输出重定向到文件file中。如果file已经存在，则清空原有文件，使用bash的noclobber选项可以防止复盖原有文件。 

```
cmd >> file 
```



## `<`

把cmd命令的输出重定向到文件file中，如果file已经存在，则把信息加在原有文件後面。 

```
cmd < file 
```



## `<<`

使cmd命令从file读入 

```
cmd << text 
```





## `<<<`

从命令行读取输入，直到一个与text相同的行结束。除非使用引号把输入括起来，此模式将对输入内容进行shell变量替换。如果使用<<- ，则会忽略接下来输入行首的tab，结束行也可以是一堆tab再加上一个与text相同的内容，可以参考後面的例子。 

```
cmd <<< word 
```



## `<>`

把word（而不是文件word）和後面的换行作为输入提供给cmd

```
cmd <> file 
```





## 

以读写模式把文件file重定向到输入，文件file不会被破坏。仅当应用程序利用了这一特性时，它才是有意义的。 

```
cmd >| file 
```



## `:>`

功能同>，但即便在设置了noclobber时也会复盖file文件，注意用的是|而非一些书中说的!，目前仅在csh中仍沿用>!实现这一功能。 

```
:> filename    把文件\"filename\"截断为0长度.# 如果文件不存在, 那么就创建一个0长度的文件(与'touch'的效果相同). 
```



## `2>`

以覆盖的方式，把命令的错误输出，输出到指定的文件中去

```
error_cmd 2> file
```



## `2>>`

以追加的方式，把命令的错误输出，输出到指定的文件中去

```
error_cmd 2>> file
```



## `&>`

以覆盖的方式，把正确输出和错误输出都保存到同一个文件中

```
cmd &> file
```



## `2&>`

以覆盖的方式，把正确输出和错误输出都保存到同一个文件

```
cmd > file > 2>&1
```



## 



